{% extends 'index.html' %}
{% load stu_tags %}

{% block right-content-container %}
<div class="panel panel-default">

  <div class="panel-heading"><h4>我的课程</h4></div>
  <div class="panel-body">
     <table class="table table-striped table-responsive">
      <thead>
        <tr>
            <th>课程名称</th>
            <th>班级</th>
            <th>开课日期</th>
            <th>结业日期</th>
            <th>课程进度</th>
            <th>我的成绩</th>
        </tr>
      </thead>
      <tbody>
        {% for class_grade_obj  in class_grade_objs %}
            <tr>
                <td><a href="{% url 'study_record_view' class_grade_obj.id %}"> {{ class_grade_obj.course }}</a></td>
                <td>{{ class_grade_obj }}</td>
                <td>{{ class_grade_obj.start_date }}</td>
                <td>{{ class_grade_obj.graduate_date }}</td>
                <td>已上{{ class_grade_obj.courserecord_set.all.count }}节课</td>
                <td>{% get_score student_obj class_grade_obj as score_data  %}
                    {{ score_data.score__sum }} (总分)
                </td>

            </tr>
        {% endfor %}

      </tbody>
    </table>


  </div>

</div>

{% endblock %}